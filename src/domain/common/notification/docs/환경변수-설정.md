# 알림 서비스 환경 변수 설정

## .env 파일에 추가할 환경 변수

알림 서비스를 사용하기 위해 `.env` 파일에 다음 환경 변수를 추가하세요:

```env
# ============================================
# 알림 서비스 (Notification Service) 설정
# ============================================

# 메일 서버 URL (필수)
# 메일 서버 API의 기본 URL을 설정합니다
MAIL_SERVER_URL=http://localhost:3001

# Mock 서비스 사용 여부 (선택사항, 기본값: false)
# 개발 또는 테스트 환경에서 true로 설정하면 실제 API 대신 Mock 데이터 사용
# NOTIFICATION_USE_MOCK=false

# 타임아웃 설정 (선택사항, 기본값: 30000ms)
# API 요청의 타임아웃 시간을 밀리초 단위로 설정
# NOTIFICATION_TIMEOUT_MS=30000

# 재시도 설정 (선택사항, 기본값: 2)
# API 요청 실패 시 재시도 횟수
# NOTIFICATION_RETRIES=2

# 재시도 지연 시간 (선택사항, 기본값: 1000ms)
# 재시도 사이의 대기 시간을 밀리초 단위로 설정
# NOTIFICATION_RETRY_DELAY=1000
```

## 환경별 설정 예시

### 개발 환경

```env
# Mock 서비스를 사용하여 실제 메일 서버 없이 테스트
MAIL_SERVER_URL=http://localhost:3001
NOTIFICATION_USE_MOCK=true
```

### 프로덕션 환경

```env
# 실제 메일 서버 URL을 설정
MAIL_SERVER_URL=https://mail-server.your-domain.com
NOTIFICATION_USE_MOCK=false
NOTIFICATION_TIMEOUT_MS=30000
NOTIFICATION_RETRIES=3
NOTIFICATION_RETRY_DELAY=2000
```

### 테스트 환경

```env
# NODE_ENV가 'test'인 경우 자동으로 Mock 서비스 사용
NODE_ENV=test
MAIL_SERVER_URL=http://localhost:3001
```

## 환경 변수 설명

### MAIL_SERVER_URL (필수)
- **타입**: string
- **설명**: 메일 서버 API의 기본 URL
- **예시**: `http://localhost:3001`, `https://mail-server.your-domain.com`

### NOTIFICATION_USE_MOCK (선택사항)
- **타입**: boolean
- **기본값**: `false`
- **설명**: `true`로 설정하면 실제 API 대신 Mock 서비스 사용
- **예시**: `true`, `false`

### NOTIFICATION_TIMEOUT_MS (선택사항)
- **타입**: number
- **기본값**: `30000` (30초)
- **설명**: API 요청의 타임아웃 시간 (밀리초)
- **예시**: `30000`, `60000`

### NOTIFICATION_RETRIES (선택사항)
- **타입**: number
- **기본값**: `2`
- **설명**: API 요청 실패 시 재시도 횟수
- **예시**: `2`, `3`, `5`

### NOTIFICATION_RETRY_DELAY (선택사항)
- **타입**: number
- **기본값**: `1000` (1초)
- **설명**: 재시도 사이의 대기 시간 (밀리초)
- **예시**: `1000`, `2000`, `5000`

## 설정 확인

환경 변수가 올바르게 설정되었는지 확인하려면 애플리케이션 시작 시 로그를 확인하세요:

```
[NotificationServiceFactory] 실제 알림 서비스를 사용합니다 (메일 서버 연동)
[NotificationServiceImpl] 알림 서비스 클라이언트 초기화 중... baseUrl: http://localhost:3001, timeoutMs: 30000
[NotificationServiceImpl] 알림 서비스 초기화 완료 (소요 시간: 123ms)
```

또는 Mock 서비스를 사용하는 경우:

```
[NotificationServiceFactory] Mock 알림 서비스를 사용합니다
[MockNotificationService] Mock 알림 서비스 초기화 완료
```



